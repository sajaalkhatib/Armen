
@{
    ViewData["Title"] = "BlogAdmin";
    Layout = "~/Views/Shared/AdminLayout.cshtml";
}

@section Styles {
    <link rel="stylesheet" href="~/css/BlogAdmin.css" asp-append-version="true" />
}
@section Scripts {
    <script src="~/js/BlogAdmin.js" asp-append-version="true"></script>
}

<script src="~/js/BlogAdmin.js" asp-append-version="true" defer></script>



<!-- Bootstrap RTL -->

<!-- المحتوى الرئيسي -->
<div class="main-content" id="mainContent">
    <div class="container-fluid py-4">
        <!-- عنوان الصفحة -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="page-header d-flex justify-content-between align-items-center">
                </div>
            </div>
        </div>

        <!-- بطاقات الإحصائيات -->

        <!-- <div class="row mb-4">
          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card stat-card">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="mb-2 text-muted">إجمالي الأخبار</h6>
                    <h3 class="mb-0">48</h3>
                    <p class="mb-0 text-success small">
                      <i class="fas fa-arrow-up me-1"></i> 12% عن الشهر الماضي
                    </p>
                  </div>
                  <div class="card-icon">
                    <i class="fas fa-newspaper"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card stat-card">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="mb-2 text-muted">أخبار هذا الشهر</h6>
                    <h3 class="mb-0">7</h3>
                    <p class="mb-0 text-success small">
                      <i class="fas fa-arrow-up me-1"></i> 2 خبر جديد
                    </p>
                  </div>
                  <div class="card-icon">
                    <i class="fas fa-calendar-alt"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card stat-card">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="mb-2 text-muted">الأخبار الأكثر مشاهدة</h6>
                    <h3 class="mb-0">1,245</h3>
                    <p class="mb-0 text-info small">
                      <i class="fas fa-eye me-1"></i> مشاهدات
                    </p>
                  </div>
                  <div class="card-icon">
                    <i class="fas fa-chart-line"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card stat-card">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="mb-2 text-muted">أخبار معروضة</h6>
                    <h3 class="mb-0">5</h3>
                    <p class="mb-0 text-warning small">
                      <i class="fas fa-sliders-h me-1"></i> معروضة
                    </p>
                  </div>
                  <div class="card-icon">
                    <i class="fas fa-star"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div> -->
        <!-- قائمة الأخبار -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">آخر الأخبار المنشورة</h5>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addNewsModal">
                            <i class="fas fa-plus me-2"></i>إضافة خبر جديد
                        </button>


                    </div>

                    <div class="card-body">
                        <div class="row">
                            <!-- خبر 1 -->
                            <div class="col-md-6 col-lg-4 mb-4">
                                <div class="card news-card h-100">
                                    <img src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" class="card-img-top" alt="صورة الخبر">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <span class="news-date"><i class="far fa-calendar-alt me-1"></i> 15 مايو 2023</span>
                                            <div>
                                                <span class="badge bg-success me-1">منشور</span>

                                            </div>
                                        </div>
                                        <h5 class="card-title">إطلاق خدمة الشحن الجوي السريع إلى الصين</h5>
                                        <p class="card-text">نفخر بالإعلان عن إطلاق خدمة الشحن الجوي السريع مباشرة إلى جميع المدن الصينية الرئيسية بأسعار تنافسية.</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <a href="#" class="btn btn-sm btn-outline-primary">قراءة المزيد</a>
                                            <div class="btn-group" role="group">
                                                <button class="btn btn-warning btn-xs me-1" onclick="editNews(1)" title="تعديل الخبر">
                                                    <i class="far fa-edit me-1"></i>
                                                </button>
                                                <button class="btn btn-danger btn-xs" onclick="deleteNews(1)" title="حذف الخبر">
                                                    <i class="far fa-trash-alt me-1"></i>
                                                </button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <!-- خبر 2 -->
                            <div class="col-md-6 col-lg-4 mb-4">
                                <div class="card news-card h-100">
                                    <img src="https://images.unsplash.com/photo-1556740738-b6a63e27c4df?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" class="card-img-top" alt="صورة الخبر">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <span class="news-date"><i class="far fa-calendar-alt me-1"></i> 8 مايو 2023</span>
                                            <div>
                                                <span class="badge bg-success me-1">منشور</span>

                                            </div>
                                        </div>
                                        <h5 class="card-title">تخفيضات كبيرة على رسوم التخليص الجمركي</h5>
                                        <p class="card-text">بمناسبة الذكرى السنوية لتأسيس الشركة، نقدم تخفيضات تصل إلى 30% على خدمات التخليص الجمركي لجميع العملاء.</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <a href="#" class="btn btn-sm btn-outline-primary">قراءة المزيد</a>
                                            <div class="btn-group" role="group">
                                                <button class="btn btn-warning btn-xs me-1" onclick="editNews(1)" title="تعديل الخبر">
                                                    <i class="far fa-edit me-1"></i>
                                                </button>
                                                <button class="btn btn-danger btn-xs" onclick="deleteNews(1)" title="حذف الخبر">
                                                    <i class="far fa-trash-alt me-1"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- خبر 3 -->
                            <div class="col-md-6 col-lg-4 mb-4">
                                <div class="card news-card h-100">
                                    <img src="https://images.unsplash.com/photo-1450101499163-c8848c66ca85?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" class="card-img-top" alt="صورة الخبر">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <span class="news-date"><i class="far fa-calendar-alt me-1"></i> 1 مايو 2023</span>
                                            <div>
                                                <span class="badge bg-success me-1">منشور</span>
                                            </div>
                                        </div>
                                        <h5 class="card-title">افتتاح فرع جديد في مدينة دبي</h5>
                                        <p class="card-text">يسرنا الإعلان عن افتتاح فرعنا الجديد في دبي لخدمة عملائنا في الإمارات ودول الخليج العربي.</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <a href="#" class="btn btn-sm btn-outline-primary">قراءة المزيد</a>
                                            <div class="btn-group" role="group">
                                                <button class="btn btn-warning btn-xs me-1" onclick="editNews(1)" title="تعديل الخبر">
                                                    <i class="far fa-edit me-1"></i>
                                                </button>
                                                <button class="btn btn-danger btn-xs" onclick="deleteNews(1)" title="حذف الخبر">
                                                    <i class="far fa-trash-alt me-1"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-center mt-4">
                            <nav aria-label="Page navigation">
                                <ul class="pagination">
                                    <li class="page-item disabled">
                                        <a class="page-link" href="#" aria-label="Previous">
                                            <span aria-hidden="true">&laquo;</span>
                                        </a>
                                    </li>
                                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                                    <li class="page-item">
                                        <a class="page-link" href="#" aria-label="Next">
                                            <span aria-hidden="true">&raquo;</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal إضافة/تعديل خبر -->
<div class="modal fade" id="newsModal" tabindex="-1" aria-labelledby="newsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="newsModalLabel">إضافة خبر جديد</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="newsForm">
                    <input type="hidden" id="newsId">
                    <div class="mb-3">
                        <label for="newsTitle" class="form-label">عنوان الخبر <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="newsTitle" required>
                    </div>

                    <div class="mb-3">
                        <label for="newsDate" class="form-label">تاريخ النشر <span class="text-danger">*</span></label>
                        <input type="date" class="form-control" id="newsDate" required>
                    </div>

                    <div class="mb-3">
                        <label for="newsImageFile" class="form-label">صورة الخبر <span class="text-danger">*</span></label>
                        <input type="file" class="form-control" id="newsImageFile" accept="image/*" required>
                        <div class="mt-2">
                            <img id="imagePreview" src="" alt="معاينة الصورة" class="img-thumbnail" style="max-height: 150px; display: none;">
                        </div>
                    </div>


                    <div class="mb-3">
                        <label for="newsContent" class="form-label">محتوى الخبر <span class="text-danger">*</span></label>
                        <textarea class="form-control" id="newsContent" rows="6" required></textarea>
                    </div>



                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="featuredNews">
                        <label class="form-check-label" for="featuredNews">عرض في الصفحة الرئيسية</label>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="featuredNews">
                        <label class="form-check-label" for="featuredNews">عرض في الصفحة الاخبار</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء</button>
                <button type="button" class="btn btn-danger" id="deleteNewsBtn" style="display: none;">حذف الخبر</button>
                <button type="button" class="btn btn-primary" id="saveNewsBtn">حفظ الخبر</button>
            </div>
        </div>
    </div>
</div>

<!-- jQuery -->
